# 高考倒计时应用 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称
高考倒计时 (Gaokao Countdown)

### 1.2 产品定位
一个专为高考考生设计的倒计时应用，提供精确的时间倒计时、每日励志语录和考试时间管理功能。

### 1.3 目标用户
- 即将参加高考的学生
- 关心高考学生的家长和老师
- 需要考试时间提醒的用户

### 1.4 核心价值
- 精确倒计时：清晰展示距离高考的剩余时间
- 激励功能：每日更新的双语励志语录
- 个性化设置：支持自定义考试日期和时间
- 便捷分享：支持分享功能和PWA安装

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 倒计时功能
- **默认考试时间**: 2026-06-07 09:00
- **显示逻辑**:
  - 距离考试 > 1天：仅显示天数
  - 距离考试 < 1天但 > 1小时：显示天、小时、分钟
  - 距离考试 < 1小时：显示小时、分钟、秒
- **大数字显示**: 醒目的倒计时数字
- **自动更新**: 实时刷新倒计时数据

#### 2.1.2 励志语录功能
- **每日更新**: 每天生成新的励志语录
- **双语支持**: 中英文对照显示
- **AI生成**: 使用 Vercel AI SDK 调用 OpenAI 模型生成
- **内容缓存**: 避免重复API调用

#### 2.1.3 自定义考试日期
- **日期选择器**: Popover + Calendar 组件
- **多省份支持**: 预设不同省份的考试时间
- **本地存储**: 用户设置保存在 localStorage
- **默认设置**: 首次访问使用默认日期

#### 2.1.4 分享功能
- **链接分享**: 复制应用链接
- **二维码生成**: 生成当前页面二维码
- **社交分享**: 预设分享文本模板
- **PWA安装**: 支持添加到主屏幕

### 2.2 辅助功能

#### 2.2.1 进度显示
- **备考进度条**: 显示已过时间百分比
- **Tooltip提示**: 悬停显示具体起止日期
- **视觉反馈**: 进度条颜色渐变

#### 2.2.2 用户界面
- **响应式设计**: 移动端优先，自适应桌面
- **主题切换**: 明暗主题支持
- **Glassmorphism**: 玻璃质感卡片设计
- **3D背景**: 山景背景增强视觉效果

## 3. 技术需求

### 3.1 技术栈
- **前端框架**: Next.js 15 with App Router
- **样式方案**: Tailwind CSS 4
- **组件库**: shadcn/ui
- **AI集成**: Vercel AI SDK + OpenAI
- **语言**: TypeScript

### 3.2 性能要求
- **首屏加载**: < 2秒
- **LCP**: < 2.5秒
- **CLS**: < 0.1
- **PWA支持**: 离线可用

### 3.3 兼容性
- **移动端**: iOS Safari 14+, Android Chrome 90+
- **桌面端**: Chrome 90+, Firefox 88+, Safari 14+
- **PWA**: 支持 Add to Home Screen

## 4. 用户界面设计

### 4.1 页面布局（从上到下）

1. **顶部标题栏**
   - Logo/标题
   - 设置入口（语言、主题、关于）

2. **核心倒计时区域**
   - 大数字显示
   - 动态单位标签

3. **辅助文本区域**
   - "还剩X天" 文案
   - 今日日期
   - 考试日期

4. **进度条区域**
   - 备考进度百分比
   - 可视化进度条

5. **励志语录区域**
   - 中文语录
   - 英文翻译
   - 刷新按钮

6. **设置区域**
   - 考试日期选择器
   - 保存按钮

7. **操作按钮组**
   - 分享按钮
   - 安装PWA按钮
   - 二维码生成

8. **页脚**
   - 版权信息
   - 版本号
   - 主题切换

### 4.2 视觉设计
- **设计风格**: Glassmorphism + iOS 风格
- **背景**: 3D 山景渐变背景
- **卡片**: 半透明玻璃质感
- **字体**: 系统字体栈，支持中英文
- **颜色**: 遵循 Tailwind 设计系统

## 5. 数据流设计

### 5.1 状态管理
- **倒计时状态**: useEffect + setInterval
- **用户设置**: localStorage + useState
- **励志语录**: API缓存 + 日期检查
- **主题状态**: next-themes

### 5.2 API设计
```typescript
// 励志语录API
GET /api/quote
Response: {
  chinese: string;
  english: string;
  date: string;
}

// 考试日期预设
GET /api/exam-dates
Response: {
  [province: string]: {
    date: string;
    subjects: string[];
  }
}
```

## 6. 用户体验要求

### 6.1 交互设计
- **操作反馈**: 所有交互提供视觉反馈
- **加载状态**: 异步操作显示Loading
- **错误处理**: 优雅的错误提示
- **无障碍**: 支持键盘导航和屏幕阅读器

### 6.2 性能优化
- **图片优化**: Next.js Image组件
- **代码分割**: 动态导入非关键组件
- **缓存策略**: API响应和静态资源缓存
- **预加载**: 关键资源预加载

## 7. 测试需求

### 7.1 功能测试
- 倒计时准确性测试
- 日期选择器功能测试
- 分享功能测试
- PWA安装测试

### 7.2 兼容性测试
- 多设备适配测试
- 多浏览器兼容性测试
- 网络环境测试

### 7.3 性能测试
- Lighthouse评分 > 90
- 核心Web性能指标测试
- 内存泄漏测试

## 8. 发布计划

### 8.1 MVP版本 (v1.0)
- 基础倒计时功能
- 静态励志语录
- 基础分享功能
- 响应式布局

### 8.2 增强版本 (v1.1)
- AI生成励志语录
- PWA支持
- 多省份考试日期
- 进度条功能

### 8.3 完整版本 (v1.2)
- 主题切换
- 高级分享功能
- 性能优化
- 无障碍支持

## 9. 成功指标

### 9.1 技术指标
- Lighthouse性能评分 > 90
- 首屏加载时间 < 2s
- 崩溃率 < 0.1%

### 9.2 用户指标
- 用户留存率 > 60% (7天)
- 分享转化率 > 5%
- PWA安装率 > 10%

### 9.3 业务指标
- 日活跃用户数
- 用户使用时长
- 功能使用率统计
